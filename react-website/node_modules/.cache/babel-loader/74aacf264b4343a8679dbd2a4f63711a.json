{"ast":null,"code":"var _jsxFileName = \"D:\\\\WebsiteQLKS_Django_React\\\\react-website\\\\src\\\\components\\\\Staff\\\\ManageBookings.js\";\n// /** @jsx jsx */\n// import { css, jsx } from '@emotion/react';\n// import { useEffect, useState } from 'react';\n// import { authAPI, endpoints } from '../../configs/APIs';\n// import { Modal, Button, Form } from 'react-bootstrap';\n// import 'bootstrap/dist/css/bootstrap.min.css';\n\n// const ReservationDetailsModal = ({ showModal, handleClose, selectedReservation, setSelectedReservation, handleUpdate, handleDelete }) => {\n//     const [availableRooms, setAvailableRooms] = useState([]);\n\n//     useEffect(() => {\n//         const fetchRooms = async () => {\n//             try {\n//                 const response = await authAPI().get('http://192.168.1.113:8000/rooms/');\n//                 setAvailableRooms(response.data);\n//             } catch (error) {\n//                 console.error('There was an error fetching the rooms!', error);\n//             }\n//         };\n\n//         fetchRooms();\n//     }, []);\n\n//     return (\n//         <Modal show={showModal} onHide={handleClose}>\n//             <Modal.Header closeButton>\n//                 <Modal.Title>Chi tiết Đặt Phòng</Modal.Title>\n//             </Modal.Header>\n//             <Modal.Body>\n//                 {selectedReservation && (\n//                     <Form>\n//                         <Form.Group controlId=\"formReservationId\">\n//                             <Form.Label>ID</Form.Label>\n//                             <Form.Control\n//                                 type=\"text\"\n//                                 value={selectedReservation.id}\n//                                 readOnly\n//                             />\n//                         </Form.Group>\n//                         <Form.Group controlId=\"formGuest\">\n//                             <Form.Label>Khách</Form.Label>\n//                             <Form.Control\n//                                 type=\"text\"\n//                                 value={selectedReservation.guest}\n//                                 readOnly\n//                             />\n//                         </Form.Group>\n//                         <Form.Group controlId=\"formRoom\">\n//                             <Form.Label>Phòng</Form.Label>\n//                             <Form.Select\n//                                 value={selectedReservation.room[0]?.nameRoom || ''}\n//                                 onChange={(e) => setSelectedReservation(prev => ({\n//                                     ...prev,\n//                                     room: availableRooms.filter(room => room.nameRoom === e.target.value)\n//                                 }))}\n//                             >\n//                                 <option value=\"\">Chọn phòng</option>\n//                                 {availableRooms.map(room => (\n//                                     <option key={room.id} value={room.nameRoom}>\n//                                         {room.nameRoom}\n//                                     </option>\n//                                 ))}\n//                             </Form.Select>\n//                         </Form.Group>\n//                         <Form.Group controlId=\"formBookDate\">\n//                             <Form.Label>Ngày đặt</Form.Label>\n//                             <Form.Control\n//                                 type=\"text\"\n//                                 value={selectedReservation.bookDate}\n//                                 onChange={(e) => setSelectedReservation(prev => ({ ...prev, bookDate: e.target.value }))}\n//                             />\n//                         </Form.Group>\n//                         <Form.Group controlId=\"formCheckin\">\n//                             <Form.Label>Nhận phòng</Form.Label>\n//                             <Form.Control\n//                                 type=\"text\"\n//                                 value={selectedReservation.checkin}\n//                                 onChange={(e) => setSelectedReservation(prev => ({ ...prev, checkin: e.target.value }))}\n//                             />\n//                         </Form.Group>\n//                         <Form.Group controlId=\"formCheckout\">\n//                             <Form.Label>Trả phòng</Form.Label>\n//                             <Form.Control\n//                                 type=\"text\"\n//                                 value={selectedReservation.checkout}\n//                                 onChange={(e) => setSelectedReservation(prev => ({ ...prev, checkout: e.target.value }))}\n//                             />\n//                         </Form.Group>\n//                         <Form.Group controlId=\"formActive\">\n//                             <Form.Label>Trạng thái đặt</Form.Label>\n//                             <Form.Check\n//                                 type=\"checkbox\"\n//                                 checked={selectedReservation.statusCheckin}\n//                                 onChange={(e) => setSelectedReservation(prev => ({\n//                                     ...prev,\n//                                     statusCheckin: e.target.checked\n//                                 }))}\n//                             />\n\n//                         </Form.Group>\n//                     </Form>\n//                 )}\n//             </Modal.Body>\n//             <Modal.Footer>\n//                 <Button variant=\"secondary\" onClick={handleClose}>\n//                     Đóng\n//                 </Button>\n//                 <Button variant=\"danger\" onClick={handleDelete}>\n//                     Xóa\n//                 </Button>\n//                 <Button variant=\"primary\" onClick={handleUpdate}>\n//                     Sửa\n//                 </Button>\n//             </Modal.Footer>\n//         </Modal>\n//     );\n// };\n\n// const ManageBookings = () => {\n//     const [reservations, setReservations] = useState([]);\n//     const [loading, setLoading] = useState(true);\n//     const [error, setError] = useState(null);\n//     const [showModal, setShowModal] = useState(false);\n//     const [selectedReservation, setSelectedReservation] = useState(null);\n\n//     const handleShow = (reservation) => {\n//         setSelectedReservation(reservation);\n//         setShowModal(true);\n//     };\n\n//     const handleClose = () => setShowModal(false);\n\n//     // const handleUpdate = async () => {\n//     //     if (!selectedReservation) return;\n\n//     //     // Tạo một bản sao của đối tượng selectedReservation để sửa đổi\n//     //     const updatedReservation = { ...selectedReservation };\n//     //     console.log('Dữ liệu cập nhật:', updatedReservation);\n\n//     //     try {\n//     //         // Gọi API để cập nhật phiếu đặt phòng với giá trị mới của statusCheckin\n//     //         await authAPI().patch(endpoints['update_reservation'](updatedReservation.id), updatedReservation);\n//     //         // Làm mới danh sách phiếu đặt phòng sau khi cập nhật\n//     //         const response = await authAPI().get(endpoints['list_reservations']);\n\n//     //         console.log(\"Kết quả cập nhật\", response.data)\n//     //         setReservations(response.data);\n//     //     } catch (error) {\n//     //         setError('Failed to update reservation');\n//     //         console.error('Failed to update reservation:', error);\n//     //     } finally {\n//     //         handleClose();\n//     //     }\n//     // };\n//     const handleUpdate = async () => {\n//         if (!selectedReservation) return;\n\n//         // Create a copy of the selectedReservation object for modification\n//         const updatedReservation = { ...selectedReservation };\n//         console.log('Data to update:', updatedReservation);\n\n//         try {\n//             // Log the endpoint being called\n//             const updateEndpoint = endpoints['update_reservation'](updatedReservation.id);\n//             console.log('Update endpoint:', updateEndpoint);\n\n//             // Call API to update the reservation with the new statusCheckin value\n//             await authAPI().patch(updateEndpoint, updatedReservation, {\n//                 headers: {\n//                     'Content-Type': 'application/json'\n//                 }\n//             });\n\n//             // Refresh the reservation list after update\n//             const response = await authAPI().get(endpoints['list_reservations']);\n//             console.log('Update result:', response.data);\n//             setReservations(response.data);\n//         } catch (error) {\n//             console.error('Failed to update reservation:', error.response ? error.response.data : error.message);\n//             setError('Failed to update reservation');\n//         } finally {\n//             handleClose();\n//         }\n//     };\n\n//     const handleDelete = async () => {\n//         if (!selectedReservation) return;\n\n//         // Hiển thị hộp thoại xác nhận\n//         const confirmed = window.confirm('Bạn có chắc chắn muốn xóa phiếu đặt phòng này?');\n\n//         if (confirmed) {\n//             try {\n//                 // Gọi API để vô hiệu hóa phiếu đặt phòng\n//                 await authAPI().patch(endpoints['deactivate_reservation'](selectedReservation.id));\n\n//                 // Làm mới danh sách phiếu đặt phòng sau khi vô hiệu hóa\n//                 const response = await authAPI().get(endpoints['list_reservations']);\n//                 setReservations(response.data);\n//             } catch (error) {\n//                 setError('Failed to deactivate reservation');\n//             } finally {\n//                 handleClose();\n//             }\n//         }\n//     };\n\n//     useEffect(() => {\n//         const fetchReservations = async () => {\n//           try {\n//             const response = await authAPI().get(endpoints['list_reservations']);\n//             console.log('Reservations fetched:', response.data); // Kiểm tra dữ liệu nhận được\n//             setReservations(response.data);\n//           } catch (err) {\n//             setError('Failed to fetch reservations');\n//             console.error('Failed to fetch reservations:', err);\n//           } finally {\n//             setLoading(false);\n//           }\n//         };\n\n//         fetchReservations();\n//       }, []);\n\n//     if (loading) return <p>Loading...</p>;\n//     if (error) return <p>{error}</p>;\n\n//     return (\n//         <div css={styles}>\n//             <h1>Quản lý Đặt Phòng</h1>\n//             <table css={tableStyles}>\n//                 <thead>\n//                     <tr>\n//                         <th>ID</th>\n//                         <th>Khách</th>\n//                         <th>Phòng</th>\n//                         <th>Ngày đặt</th>\n//                         <th>Nhận phòng</th>\n//                         <th>Trả phòng</th>\n//                         <th>Trạng thái</th>\n//                         <th>Hành động</th>\n//                     </tr>\n//                 </thead>\n//                 <tbody>\n//                     {reservations.map(reservation => (\n//                         <tr key={reservation.id}>\n//                             <td>{reservation.id}</td>\n//                             <td>{reservation.guest?.name}</td>\n//                             <td>{reservation.room.map(r => r.nameRoom).join(', ')}</td>\n//                             <td>{reservation.bookDate}</td>\n//                             <td>{reservation.checkin}</td>\n//                             <td>{reservation.checkout}</td>\n//                             <td>{reservation.statusCheckin ? 'Đã đặt' : 'Chưa đặt'}</td>\n//                             <td>\n//                                 <Button variant=\"primary\" onClick={() => handleShow(reservation)}>Sửa</Button>\n//                                 {/* <Button variant=\"danger\" onClick={() => handleDelete(reservation)}>Xóa</Button> */}\n//                             </td>\n//                         </tr>\n//                     ))}\n//                 </tbody>\n//             </table>\n//             <ReservationDetailsModal\n//                 showModal={showModal}\n//                 handleClose={handleClose}\n//                 selectedReservation={selectedReservation}\n//                 setSelectedReservation={setSelectedReservation}\n//                 handleUpdate={handleUpdate}\n//                 handleDelete={handleDelete}\n//             />\n//         </div>\n//     );\n// };\n\n// const styles = css`\n//     padding-top: 120px;\n//     background-color: #f4f4f4;\n//     min-height: 100vh;\n\n//     h1 {\n//         color: #0000CD;\n//         text-align: center;\n//         margin-bottom: 20px;\n//     }\n\n//     p {\n//         font-size: 16px;\n//         text-align: center;\n//     }\n// `;\n\n// const tableStyles = css`\n//     width: 100%;\n//     border-collapse: collapse;\n//     margin-top: 20px;\n\n//     th, td {\n//         border: 1px solid #ddd;\n//         padding: 8px;\n//         text-align: left;\n//     }\n\n//     th {\n//         background-color: #0000CD;\n//         color: white;\n//     }\n\n//     tr:nth-of-type(even) {\n//         background-color: #f2f2f2;\n//     }\n\n//     tr:hover {\n//         background-color: #ddd;\n//     }\n\n//     td {\n//         max-width: 150px;\n//         white-space: nowrap;\n//         overflow: hidden;\n//         text-overflow: ellipsis;\n//     }\n// `;\n\n// export default ManageBookings;\n/** @jsx jsx */\nimport { css, jsx } from '@emotion/react';\nimport { useEffect, useState } from 'react';\nimport { authAPI, endpoints } from '../../configs/APIs';\nimport { Modal, Button, Form } from 'react-bootstrap';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nconst ReservationDetailsModal = ({\n  showModal,\n  handleClose,\n  selectedReservation,\n  setSelectedReservation,\n  handleUpdate,\n  handleDelete\n}) => {\n  var _selectedReservation$;\n  const [availableRooms, setAvailableRooms] = useState([]);\n  useEffect(() => {\n    const fetchRooms = async () => {\n      try {\n        const response = await authAPI().get('http://192.168.1.233:8000/rooms/');\n        setAvailableRooms(response.data);\n      } catch (error) {\n        console.error('There was an error fetching the rooms!', error);\n      }\n    };\n    fetchRooms();\n  }, []);\n  return jsx(Modal, {\n    show: showModal,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 9\n    }\n  }, jsx(Modal.Header, {\n    closeButton: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 13\n    }\n  }, jsx(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 17\n    }\n  }, \"Chi ti\\xE1\\xBA\\xBFt \\xC4\\x90\\xE1\\xBA\\xB7t Ph\\xC3\\xB2ng\")), jsx(Modal.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 13\n    }\n  }, selectedReservation && jsx(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 21\n    }\n  }, jsx(Form.Group, {\n    controlId: \"formReservationId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 25\n    }\n  }, jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 29\n    }\n  }, \"ID\"), jsx(Form.Control, {\n    type: \"text\",\n    value: selectedReservation.id,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 29\n    }\n  })), jsx(Form.Group, {\n    controlId: \"formGuest\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 25\n    }\n  }, jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 29\n    }\n  }, \"Kh\\xC3\\xA1ch\"), jsx(Form.Control, {\n    type: \"text\",\n    value: selectedReservation.guest,\n    readOnly: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 29\n    }\n  })), jsx(Form.Group, {\n    controlId: \"formRoom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 375,\n      columnNumber: 25\n    }\n  }, jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 29\n    }\n  }, \"Ph\\xC3\\xB2ng\"), jsx(Form.Select, {\n    value: ((_selectedReservation$ = selectedReservation.room[0]) === null || _selectedReservation$ === void 0 ? void 0 : _selectedReservation$.nameRoom) || '',\n    onChange: e => setSelectedReservation(prev => ({\n      ...prev,\n      room: availableRooms.filter(room => room.nameRoom === e.target.value)\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377,\n      columnNumber: 29\n    }\n  }, jsx(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 33\n    }\n  }, \"Ch\\xE1\\xBB\\x8Dn ph\\xC3\\xB2ng\"), availableRooms.map(room => jsx(\"option\", {\n    key: room.id,\n    value: room.nameRoom,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 386,\n      columnNumber: 37\n    }\n  }, room.nameRoom)))), jsx(Form.Group, {\n    controlId: \"formBookDate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 25\n    }\n  }, jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 29\n    }\n  }, \"Ng\\xC3\\xA0y \\xC4\\u2018\\xE1\\xBA\\xB7t\"), jsx(Form.Control, {\n    type: \"text\",\n    value: selectedReservation.bookDate,\n    onChange: e => setSelectedReservation(prev => ({\n      ...prev,\n      bookDate: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 29\n    }\n  })), jsx(Form.Group, {\n    controlId: \"formCheckin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 25\n    }\n  }, jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 29\n    }\n  }, \"Nh\\xE1\\xBA\\xADn ph\\xC3\\xB2ng\"), jsx(Form.Control, {\n    type: \"text\",\n    value: selectedReservation.checkin,\n    onChange: e => setSelectedReservation(prev => ({\n      ...prev,\n      checkin: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 29\n    }\n  })), jsx(Form.Group, {\n    controlId: \"formCheckout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 408,\n      columnNumber: 25\n    }\n  }, jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 29\n    }\n  }, \"Tr\\xE1\\xBA\\xA3 ph\\xC3\\xB2ng\"), jsx(Form.Control, {\n    type: \"text\",\n    value: selectedReservation.checkout,\n    onChange: e => setSelectedReservation(prev => ({\n      ...prev,\n      checkout: e.target.value\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 29\n    }\n  })), jsx(Form.Group, {\n    controlId: \"formActive\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 25\n    }\n  }, jsx(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 29\n    }\n  }, \"Tr\\xE1\\xBA\\xA1ng th\\xC3\\xA1i \\xC4\\u2018\\xE1\\xBA\\xB7t\"), jsx(Form.Check, {\n    type: \"checkbox\",\n    checked: selectedReservation.statusCheckin,\n    onChange: e => setSelectedReservation(prev => ({\n      ...prev,\n      statusCheckin: e.target.checked\n    })),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 29\n    }\n  })))), jsx(Modal.Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 13\n    }\n  }, jsx(Button, {\n    variant: \"secondary\",\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 432,\n      columnNumber: 17\n    }\n  }, \"\\xC4\\x90\\xC3\\xB3ng\"), jsx(Button, {\n    variant: \"danger\",\n    onClick: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 17\n    }\n  }, \"X\\xC3\\xB3a\"), jsx(Button, {\n    variant: \"primary\",\n    onClick: handleUpdate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 17\n    }\n  }, \"S\\xE1\\xBB\\xADa\")));\n};\nconst ManageBookings = () => {\n  const [reservations, setReservations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedReservation, setSelectedReservation] = useState(null);\n  const handleShow = reservation => {\n    setSelectedReservation(reservation);\n    setShowModal(true);\n  };\n  const handleClose = () => setShowModal(false);\n  const handleUpdate = async () => {\n    if (!selectedReservation) return;\n\n    // Táº¡o má»™t báº£n sao cá»§a Ä‘á»‘i tÆ°á»£ng selectedReservation Ä‘á»ƒ sá»­a Ä‘á»•i\n    const updatedReservation = {\n      ...selectedReservation\n    };\n    console.log('Dá»¯ liá»‡u cáº­p nháº­t:', updatedReservation);\n    try {\n      // Gá»i API Ä‘á»ƒ cáº­p nháº­t phiáº¿u Ä‘áº·t phÃ²ng vá»›i giÃ¡ trá»‹ má»›i cá»§a statusCheckin\n      await authAPI().patch(endpoints['update_reservation'](updatedReservation.id), updatedReservation);\n\n      // LÃ m má»›i danh sÃ¡ch phiáº¿u Ä‘áº·t phÃ²ng sau khi cáº­p nháº­t\n      const response = await authAPI().get(endpoints['list_reservations']);\n      console.log(\"Káº¿t quáº£ cáº­p nháº­t\", response.data);\n      setReservations(response.data);\n    } catch (error) {\n      setError('Failed to update reservation');\n    } finally {\n      handleClose();\n    }\n  };\n  const handleDelete = async () => {\n    if (!selectedReservation) return;\n\n    // Hiá»ƒn thá»‹ há»™p thoáº¡i xÃ¡c nháº­n\n    const confirmed = window.confirm('Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a phiáº¿u Ä‘áº·t phÃ²ng nÃ y?');\n    if (confirmed) {\n      try {\n        // Gá»i API Ä‘á»ƒ vÃ´ hiá»‡u hÃ³a phiáº¿u Ä‘áº·t phÃ²ng\n        await authAPI().patch(endpoints['deactivate_reservation'](selectedReservation.id));\n\n        // LÃ m má»›i danh sÃ¡ch phiáº¿u Ä‘áº·t phÃ²ng sau khi vÃ´ hiá»‡u hÃ³a\n        const response = await authAPI().get(endpoints['list_reservations']);\n        setReservations(response.data);\n      } catch (error) {\n        setError('Failed to deactivate reservation');\n      } finally {\n        handleClose();\n      }\n    }\n  };\n  useEffect(() => {\n    const fetchReservations = async () => {\n      try {\n        const response = await authAPI().get(endpoints['list_reservations']);\n        setReservations(response.data);\n      } catch (err) {\n        setError('Failed to fetch reservations');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchReservations();\n  }, []);\n  if (loading) return jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 523,\n      columnNumber: 25\n    }\n  }, \"Loading...\");\n  if (error) return jsx(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 524,\n      columnNumber: 23\n    }\n  }, error);\n  return jsx(\"div\", {\n    css: styles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 527,\n      columnNumber: 9\n    }\n  }, jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 528,\n      columnNumber: 13\n    }\n  }, \"Qu\\xE1\\xBA\\xA3n l\\xC3\\xBD \\xC4\\x90\\xE1\\xBA\\xB7t Ph\\xC3\\xB2ng\"), jsx(\"table\", {\n    css: tableStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 13\n    }\n  }, jsx(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 530,\n      columnNumber: 17\n    }\n  }, jsx(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531,\n      columnNumber: 21\n    }\n  }, jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532,\n      columnNumber: 25\n    }\n  }, \"ID\"), jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 533,\n      columnNumber: 25\n    }\n  }, \"Kh\\xC3\\xA1ch\"), jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 25\n    }\n  }, \"Ph\\xC3\\xB2ng\"), jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 25\n    }\n  }, \"Ng\\xC3\\xA0y \\xC4\\u2018\\xE1\\xBA\\xB7t\"), jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 25\n    }\n  }, \"Nh\\xE1\\xBA\\xADn ph\\xC3\\xB2ng\"), jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 25\n    }\n  }, \"Tr\\xE1\\xBA\\xA3 ph\\xC3\\xB2ng\"), jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 538,\n      columnNumber: 25\n    }\n  }, \"Tr\\xE1\\xBA\\xA1ng th\\xC3\\xA1i\"), jsx(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 25\n    }\n  }, \"H\\xC3\\xA0nh \\xC4\\u2018\\xE1\\xBB\\u2122ng\"))), jsx(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 542,\n      columnNumber: 17\n    }\n  }, reservations.map(reservation => {\n    var _reservation$guest;\n    return jsx(\"tr\", {\n      key: reservation.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 25\n      }\n    }, jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 545,\n        columnNumber: 29\n      }\n    }, reservation.id), jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 29\n      }\n    }, (_reservation$guest = reservation.guest) === null || _reservation$guest === void 0 ? void 0 : _reservation$guest.name), jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 29\n      }\n    }, reservation.room.map(r => r.nameRoom).join(', ')), jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 29\n      }\n    }, reservation.bookDate), jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 549,\n        columnNumber: 29\n      }\n    }, reservation.checkin), jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 29\n      }\n    }, reservation.checkout), jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 551,\n        columnNumber: 29\n      }\n    }, reservation.statusCheckin ? 'ÄÃ£ Ä‘áº·t' : 'ChÆ°a Ä‘áº·t'), jsx(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 29\n      }\n    }, jsx(Button, {\n      variant: \"primary\",\n      onClick: () => handleShow(reservation),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 33\n      }\n    }, \"S\\xE1\\xBB\\xADa\")));\n  }))), jsx(ReservationDetailsModal, {\n    showModal: showModal,\n    handleClose: handleClose,\n    selectedReservation: selectedReservation,\n    setSelectedReservation: setSelectedReservation,\n    handleUpdate: handleUpdate,\n    handleDelete: handleDelete,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 560,\n      columnNumber: 13\n    }\n  }));\n};\nconst styles = css`\n    padding-top: 120px;\n    background-color: #f4f4f4;\n    min-height: 100vh;\n\n    h1 {\n        color: #0000CD;\n        text-align: center;\n        margin-bottom: 20px;\n    }\n\n    p {\n        font-size: 16px;\n        text-align: center;\n    }\n`;\nconst tableStyles = css`\n    width: 100%;\n    border-collapse: collapse;\n    margin-top: 20px;\n\n    th, td {\n        border: 1px solid #ddd;\n        padding: 8px;\n        text-align: left;\n    }\n\n    th {\n        background-color: #0000CD;\n        color: white;\n    }\n\n    tr:nth-of-type(even) {\n        background-color: #f2f2f2;\n    }\n\n    tr:hover {\n        background-color: #ddd;\n    }\n\n    td {\n        max-width: 150px;\n        white-space: nowrap;\n        overflow: hidden;\n        text-overflow: ellipsis;\n    }\n`;\nexport default ManageBookings;","map":{"version":3,"names":["css","jsx","useEffect","useState","authAPI","endpoints","Modal","Button","Form","ReservationDetailsModal","showModal","handleClose","selectedReservation","setSelectedReservation","handleUpdate","handleDelete","_selectedReservation$","availableRooms","setAvailableRooms","fetchRooms","response","get","data","error","console","show","onHide","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Header","closeButton","Title","Body","Group","controlId","Label","Control","type","value","id","readOnly","guest","Select","room","nameRoom","onChange","e","prev","filter","target","map","key","bookDate","checkin","checkout","Check","checked","statusCheckin","Footer","variant","onClick","ManageBookings","reservations","setReservations","loading","setLoading","setError","setShowModal","handleShow","reservation","updatedReservation","log","patch","confirmed","window","confirm","fetchReservations","err","styles","tableStyles","_reservation$guest","name","r","join"],"sources":["D:/WebsiteQLKS_Django_React/react-website/src/components/Staff/ManageBookings.js"],"sourcesContent":["// /** @jsx jsx */\r\n// import { css, jsx } from '@emotion/react';\r\n// import { useEffect, useState } from 'react';\r\n// import { authAPI, endpoints } from '../../configs/APIs';\r\n// import { Modal, Button, Form } from 'react-bootstrap';\r\n// import 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\n// const ReservationDetailsModal = ({ showModal, handleClose, selectedReservation, setSelectedReservation, handleUpdate, handleDelete }) => {\r\n//     const [availableRooms, setAvailableRooms] = useState([]);\r\n\r\n//     useEffect(() => {\r\n//         const fetchRooms = async () => {\r\n//             try {\r\n//                 const response = await authAPI().get('http://192.168.1.113:8000/rooms/');\r\n//                 setAvailableRooms(response.data);\r\n//             } catch (error) {\r\n//                 console.error('There was an error fetching the rooms!', error);\r\n//             }\r\n//         };\r\n\r\n//         fetchRooms();\r\n//     }, []);\r\n\r\n//     return (\r\n//         <Modal show={showModal} onHide={handleClose}>\r\n//             <Modal.Header closeButton>\r\n//                 <Modal.Title>Chi tiết Đặt Phòng</Modal.Title>\r\n//             </Modal.Header>\r\n//             <Modal.Body>\r\n//                 {selectedReservation && (\r\n//                     <Form>\r\n//                         <Form.Group controlId=\"formReservationId\">\r\n//                             <Form.Label>ID</Form.Label>\r\n//                             <Form.Control\r\n//                                 type=\"text\"\r\n//                                 value={selectedReservation.id}\r\n//                                 readOnly\r\n//                             />\r\n//                         </Form.Group>\r\n//                         <Form.Group controlId=\"formGuest\">\r\n//                             <Form.Label>Khách</Form.Label>\r\n//                             <Form.Control\r\n//                                 type=\"text\"\r\n//                                 value={selectedReservation.guest}\r\n//                                 readOnly\r\n//                             />\r\n//                         </Form.Group>\r\n//                         <Form.Group controlId=\"formRoom\">\r\n//                             <Form.Label>Phòng</Form.Label>\r\n//                             <Form.Select\r\n//                                 value={selectedReservation.room[0]?.nameRoom || ''}\r\n//                                 onChange={(e) => setSelectedReservation(prev => ({\r\n//                                     ...prev,\r\n//                                     room: availableRooms.filter(room => room.nameRoom === e.target.value)\r\n//                                 }))}\r\n//                             >\r\n//                                 <option value=\"\">Chọn phòng</option>\r\n//                                 {availableRooms.map(room => (\r\n//                                     <option key={room.id} value={room.nameRoom}>\r\n//                                         {room.nameRoom}\r\n//                                     </option>\r\n//                                 ))}\r\n//                             </Form.Select>\r\n//                         </Form.Group>\r\n//                         <Form.Group controlId=\"formBookDate\">\r\n//                             <Form.Label>Ngày đặt</Form.Label>\r\n//                             <Form.Control\r\n//                                 type=\"text\"\r\n//                                 value={selectedReservation.bookDate}\r\n//                                 onChange={(e) => setSelectedReservation(prev => ({ ...prev, bookDate: e.target.value }))}\r\n//                             />\r\n//                         </Form.Group>\r\n//                         <Form.Group controlId=\"formCheckin\">\r\n//                             <Form.Label>Nhận phòng</Form.Label>\r\n//                             <Form.Control\r\n//                                 type=\"text\"\r\n//                                 value={selectedReservation.checkin}\r\n//                                 onChange={(e) => setSelectedReservation(prev => ({ ...prev, checkin: e.target.value }))}\r\n//                             />\r\n//                         </Form.Group>\r\n//                         <Form.Group controlId=\"formCheckout\">\r\n//                             <Form.Label>Trả phòng</Form.Label>\r\n//                             <Form.Control\r\n//                                 type=\"text\"\r\n//                                 value={selectedReservation.checkout}\r\n//                                 onChange={(e) => setSelectedReservation(prev => ({ ...prev, checkout: e.target.value }))}\r\n//                             />\r\n//                         </Form.Group>\r\n//                         <Form.Group controlId=\"formActive\">\r\n//                             <Form.Label>Trạng thái đặt</Form.Label>\r\n//                             <Form.Check\r\n//                                 type=\"checkbox\"\r\n//                                 checked={selectedReservation.statusCheckin}\r\n//                                 onChange={(e) => setSelectedReservation(prev => ({\r\n//                                     ...prev,\r\n//                                     statusCheckin: e.target.checked\r\n//                                 }))}\r\n//                             />\r\n\r\n//                         </Form.Group>\r\n//                     </Form>\r\n//                 )}\r\n//             </Modal.Body>\r\n//             <Modal.Footer>\r\n//                 <Button variant=\"secondary\" onClick={handleClose}>\r\n//                     Đóng\r\n//                 </Button>\r\n//                 <Button variant=\"danger\" onClick={handleDelete}>\r\n//                     Xóa\r\n//                 </Button>\r\n//                 <Button variant=\"primary\" onClick={handleUpdate}>\r\n//                     Sửa\r\n//                 </Button>\r\n//             </Modal.Footer>\r\n//         </Modal>\r\n//     );\r\n// };\r\n\r\n// const ManageBookings = () => {\r\n//     const [reservations, setReservations] = useState([]);\r\n//     const [loading, setLoading] = useState(true);\r\n//     const [error, setError] = useState(null);\r\n//     const [showModal, setShowModal] = useState(false);\r\n//     const [selectedReservation, setSelectedReservation] = useState(null);\r\n\r\n//     const handleShow = (reservation) => {\r\n//         setSelectedReservation(reservation);\r\n//         setShowModal(true);\r\n//     };\r\n\r\n//     const handleClose = () => setShowModal(false);\r\n\r\n//     // const handleUpdate = async () => {\r\n//     //     if (!selectedReservation) return;\r\n\r\n//     //     // Tạo một bản sao của đối tượng selectedReservation để sửa đổi\r\n//     //     const updatedReservation = { ...selectedReservation };\r\n//     //     console.log('Dữ liệu cập nhật:', updatedReservation);\r\n\r\n//     //     try {\r\n//     //         // Gọi API để cập nhật phiếu đặt phòng với giá trị mới của statusCheckin\r\n//     //         await authAPI().patch(endpoints['update_reservation'](updatedReservation.id), updatedReservation);\r\n//     //         // Làm mới danh sách phiếu đặt phòng sau khi cập nhật\r\n//     //         const response = await authAPI().get(endpoints['list_reservations']);\r\n\r\n//     //         console.log(\"Kết quả cập nhật\", response.data)\r\n//     //         setReservations(response.data);\r\n//     //     } catch (error) {\r\n//     //         setError('Failed to update reservation');\r\n//     //         console.error('Failed to update reservation:', error);\r\n//     //     } finally {\r\n//     //         handleClose();\r\n//     //     }\r\n//     // };\r\n//     const handleUpdate = async () => {\r\n//         if (!selectedReservation) return;\r\n    \r\n//         // Create a copy of the selectedReservation object for modification\r\n//         const updatedReservation = { ...selectedReservation };\r\n//         console.log('Data to update:', updatedReservation);\r\n    \r\n//         try {\r\n//             // Log the endpoint being called\r\n//             const updateEndpoint = endpoints['update_reservation'](updatedReservation.id);\r\n//             console.log('Update endpoint:', updateEndpoint);\r\n    \r\n//             // Call API to update the reservation with the new statusCheckin value\r\n//             await authAPI().patch(updateEndpoint, updatedReservation, {\r\n//                 headers: {\r\n//                     'Content-Type': 'application/json'\r\n//                 }\r\n//             });\r\n    \r\n//             // Refresh the reservation list after update\r\n//             const response = await authAPI().get(endpoints['list_reservations']);\r\n//             console.log('Update result:', response.data);\r\n//             setReservations(response.data);\r\n//         } catch (error) {\r\n//             console.error('Failed to update reservation:', error.response ? error.response.data : error.message);\r\n//             setError('Failed to update reservation');\r\n//         } finally {\r\n//             handleClose();\r\n//         }\r\n//     };\r\n    \r\n\r\n\r\n//     const handleDelete = async () => {\r\n//         if (!selectedReservation) return;\r\n    \r\n//         // Hiển thị hộp thoại xác nhận\r\n//         const confirmed = window.confirm('Bạn có chắc chắn muốn xóa phiếu đặt phòng này?');\r\n    \r\n//         if (confirmed) {\r\n//             try {\r\n//                 // Gọi API để vô hiệu hóa phiếu đặt phòng\r\n//                 await authAPI().patch(endpoints['deactivate_reservation'](selectedReservation.id));\r\n    \r\n//                 // Làm mới danh sách phiếu đặt phòng sau khi vô hiệu hóa\r\n//                 const response = await authAPI().get(endpoints['list_reservations']);\r\n//                 setReservations(response.data);\r\n//             } catch (error) {\r\n//                 setError('Failed to deactivate reservation');\r\n//             } finally {\r\n//                 handleClose();\r\n//             }\r\n//         }\r\n//     };\r\n    \r\n\r\n\r\n//     useEffect(() => {\r\n//         const fetchReservations = async () => {\r\n//           try {\r\n//             const response = await authAPI().get(endpoints['list_reservations']);\r\n//             console.log('Reservations fetched:', response.data); // Kiểm tra dữ liệu nhận được\r\n//             setReservations(response.data);\r\n//           } catch (err) {\r\n//             setError('Failed to fetch reservations');\r\n//             console.error('Failed to fetch reservations:', err);\r\n//           } finally {\r\n//             setLoading(false);\r\n//           }\r\n//         };\r\n      \r\n//         fetchReservations();\r\n//       }, []);\r\n\r\n//     if (loading) return <p>Loading...</p>;\r\n//     if (error) return <p>{error}</p>;\r\n\r\n//     return (\r\n//         <div css={styles}>\r\n//             <h1>Quản lý Đặt Phòng</h1>\r\n//             <table css={tableStyles}>\r\n//                 <thead>\r\n//                     <tr>\r\n//                         <th>ID</th>\r\n//                         <th>Khách</th>\r\n//                         <th>Phòng</th>\r\n//                         <th>Ngày đặt</th>\r\n//                         <th>Nhận phòng</th>\r\n//                         <th>Trả phòng</th>\r\n//                         <th>Trạng thái</th>\r\n//                         <th>Hành động</th>\r\n//                     </tr>\r\n//                 </thead>\r\n//                 <tbody>\r\n//                     {reservations.map(reservation => (\r\n//                         <tr key={reservation.id}>\r\n//                             <td>{reservation.id}</td>\r\n//                             <td>{reservation.guest?.name}</td>\r\n//                             <td>{reservation.room.map(r => r.nameRoom).join(', ')}</td>\r\n//                             <td>{reservation.bookDate}</td>\r\n//                             <td>{reservation.checkin}</td>\r\n//                             <td>{reservation.checkout}</td>\r\n//                             <td>{reservation.statusCheckin ? 'Đã đặt' : 'Chưa đặt'}</td>\r\n//                             <td>\r\n//                                 <Button variant=\"primary\" onClick={() => handleShow(reservation)}>Sửa</Button>\r\n//                                 {/* <Button variant=\"danger\" onClick={() => handleDelete(reservation)}>Xóa</Button> */}\r\n//                             </td>\r\n//                         </tr>\r\n//                     ))}\r\n//                 </tbody>\r\n//             </table>\r\n//             <ReservationDetailsModal\r\n//                 showModal={showModal}\r\n//                 handleClose={handleClose}\r\n//                 selectedReservation={selectedReservation}\r\n//                 setSelectedReservation={setSelectedReservation}\r\n//                 handleUpdate={handleUpdate}\r\n//                 handleDelete={handleDelete}\r\n//             />\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// const styles = css`\r\n//     padding-top: 120px;\r\n//     background-color: #f4f4f4;\r\n//     min-height: 100vh;\r\n\r\n//     h1 {\r\n//         color: #0000CD;\r\n//         text-align: center;\r\n//         margin-bottom: 20px;\r\n//     }\r\n\r\n//     p {\r\n//         font-size: 16px;\r\n//         text-align: center;\r\n//     }\r\n// `;\r\n\r\n// const tableStyles = css`\r\n//     width: 100%;\r\n//     border-collapse: collapse;\r\n//     margin-top: 20px;\r\n\r\n//     th, td {\r\n//         border: 1px solid #ddd;\r\n//         padding: 8px;\r\n//         text-align: left;\r\n//     }\r\n\r\n//     th {\r\n//         background-color: #0000CD;\r\n//         color: white;\r\n//     }\r\n\r\n//     tr:nth-of-type(even) {\r\n//         background-color: #f2f2f2;\r\n//     }\r\n\r\n//     tr:hover {\r\n//         background-color: #ddd;\r\n//     }\r\n\r\n//     td {\r\n//         max-width: 150px;\r\n//         white-space: nowrap;\r\n//         overflow: hidden;\r\n//         text-overflow: ellipsis;\r\n//     }\r\n// `;\r\n\r\n// export default ManageBookings;\r\n/** @jsx jsx */\r\nimport { css, jsx } from '@emotion/react';\r\nimport { useEffect, useState } from 'react';\r\nimport { authAPI, endpoints } from '../../configs/APIs';\r\nimport { Modal, Button, Form } from 'react-bootstrap';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nconst ReservationDetailsModal = ({ showModal, handleClose, selectedReservation, setSelectedReservation, handleUpdate, handleDelete }) => {\r\n    const [availableRooms, setAvailableRooms] = useState([]);\r\n\r\n    useEffect(() => {\r\n        const fetchRooms = async () => {\r\n            try {\r\n                const response = await authAPI().get('http://192.168.1.233:8000/rooms/');\r\n                setAvailableRooms(response.data);\r\n            } catch (error) {\r\n                console.error('There was an error fetching the rooms!', error);\r\n            }\r\n        };\r\n\r\n        fetchRooms();\r\n    }, []);\r\n\r\n    return (\r\n        <Modal show={showModal} onHide={handleClose}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Chi tiáº¿t Äáº·t PhÃ²ng</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                {selectedReservation && (\r\n                    <Form>\r\n                        <Form.Group controlId=\"formReservationId\">\r\n                            <Form.Label>ID</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                value={selectedReservation.id}\r\n                                readOnly\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formGuest\">\r\n                            <Form.Label>KhÃ¡ch</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                value={selectedReservation.guest}\r\n                                readOnly\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formRoom\">\r\n                            <Form.Label>PhÃ²ng</Form.Label>\r\n                            <Form.Select\r\n                                value={selectedReservation.room[0]?.nameRoom || ''}\r\n                                onChange={(e) => setSelectedReservation(prev => ({\r\n                                    ...prev,\r\n                                    room: availableRooms.filter(room => room.nameRoom === e.target.value)\r\n                                }))}\r\n                            >\r\n                                <option value=\"\">Chá»n phÃ²ng</option>\r\n                                {availableRooms.map(room => (\r\n                                    <option key={room.id} value={room.nameRoom}>\r\n                                        {room.nameRoom}\r\n                                    </option>\r\n                                ))}\r\n                            </Form.Select>\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formBookDate\">\r\n                            <Form.Label>NgÃ y Ä‘áº·t</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                value={selectedReservation.bookDate}\r\n                                onChange={(e) => setSelectedReservation(prev => ({ ...prev, bookDate: e.target.value }))}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formCheckin\">\r\n                            <Form.Label>Nháº­n phÃ²ng</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                value={selectedReservation.checkin}\r\n                                onChange={(e) => setSelectedReservation(prev => ({ ...prev, checkin: e.target.value }))}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formCheckout\">\r\n                            <Form.Label>Tráº£ phÃ²ng</Form.Label>\r\n                            <Form.Control\r\n                                type=\"text\"\r\n                                value={selectedReservation.checkout}\r\n                                onChange={(e) => setSelectedReservation(prev => ({ ...prev, checkout: e.target.value }))}\r\n                            />\r\n                        </Form.Group>\r\n                        <Form.Group controlId=\"formActive\">\r\n                            <Form.Label>Tráº¡ng thÃ¡i Ä‘áº·t</Form.Label>\r\n                            <Form.Check\r\n                                type=\"checkbox\"\r\n                                checked={selectedReservation.statusCheckin}\r\n                                onChange={(e) => setSelectedReservation(prev => ({\r\n                                    ...prev,\r\n                                    statusCheckin: e.target.checked\r\n                                }))}\r\n                            />\r\n\r\n                        </Form.Group>\r\n                    </Form>\r\n                )}\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <Button variant=\"secondary\" onClick={handleClose}>\r\n                    ÄÃ³ng\r\n                </Button>\r\n                <Button variant=\"danger\" onClick={handleDelete}>\r\n                    XÃ³a\r\n                </Button>\r\n                <Button variant=\"primary\" onClick={handleUpdate}>\r\n                    Sá»­a\r\n                </Button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    );\r\n};\r\n\r\nconst ManageBookings = () => {\r\n    const [reservations, setReservations] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [selectedReservation, setSelectedReservation] = useState(null);\r\n\r\n    const handleShow = (reservation) => {\r\n        setSelectedReservation(reservation);\r\n        setShowModal(true);\r\n    };\r\n\r\n    const handleClose = () => setShowModal(false);\r\n\r\n    const handleUpdate = async () => {\r\n        if (!selectedReservation) return;\r\n\r\n        // Táº¡o má»™t báº£n sao cá»§a Ä‘á»‘i tÆ°á»£ng selectedReservation Ä‘á»ƒ sá»­a Ä‘á»•i\r\n        const updatedReservation = { ...selectedReservation };\r\n        console.log('Dá»¯ liá»‡u cáº­p nháº­t:', updatedReservation);\r\n\r\n        try {\r\n            // Gá»i API Ä‘á»ƒ cáº­p nháº­t phiáº¿u Ä‘áº·t phÃ²ng vá»›i giÃ¡ trá»‹ má»›i cá»§a statusCheckin\r\n            await authAPI().patch(endpoints['update_reservation'](updatedReservation.id), updatedReservation);\r\n\r\n            // LÃ m má»›i danh sÃ¡ch phiáº¿u Ä‘áº·t phÃ²ng sau khi cáº­p nháº­t\r\n            const response = await authAPI().get(endpoints['list_reservations']);\r\n\r\n            console.log(\"Káº¿t quáº£ cáº­p nháº­t\", response.data)\r\n            setReservations(response.data);\r\n        } catch (error) {\r\n            setError('Failed to update reservation');\r\n        } finally {\r\n            handleClose();\r\n        }\r\n    };\r\n\r\n\r\n    const handleDelete = async () => {\r\n        if (!selectedReservation) return;\r\n    \r\n        // Hiá»ƒn thá»‹ há»™p thoáº¡i xÃ¡c nháº­n\r\n        const confirmed = window.confirm('Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a phiáº¿u Ä‘áº·t phÃ²ng nÃ y?');\r\n    \r\n        if (confirmed) {\r\n            try {\r\n                // Gá»i API Ä‘á»ƒ vÃ´ hiá»‡u hÃ³a phiáº¿u Ä‘áº·t phÃ²ng\r\n                await authAPI().patch(endpoints['deactivate_reservation'](selectedReservation.id));\r\n    \r\n                // LÃ m má»›i danh sÃ¡ch phiáº¿u Ä‘áº·t phÃ²ng sau khi vÃ´ hiá»‡u hÃ³a\r\n                const response = await authAPI().get(endpoints['list_reservations']);\r\n                setReservations(response.data);\r\n            } catch (error) {\r\n                setError('Failed to deactivate reservation');\r\n            } finally {\r\n                handleClose();\r\n            }\r\n        }\r\n    };\r\n    \r\n\r\n\r\n    useEffect(() => {\r\n        const fetchReservations = async () => {\r\n            try {\r\n                const response = await authAPI().get(endpoints['list_reservations']);\r\n                setReservations(response.data);\r\n            } catch (err) {\r\n                setError('Failed to fetch reservations');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchReservations();\r\n    }, []);\r\n\r\n    if (loading) return <p>Loading...</p>;\r\n    if (error) return <p>{error}</p>;\r\n\r\n    return (\r\n        <div css={styles}>\r\n            <h1>Quáº£n lÃ½ Äáº·t PhÃ²ng</h1>\r\n            <table css={tableStyles}>\r\n                <thead>\r\n                    <tr>\r\n                        <th>ID</th>\r\n                        <th>KhÃ¡ch</th>\r\n                        <th>PhÃ²ng</th>\r\n                        <th>NgÃ y Ä‘áº·t</th>\r\n                        <th>Nháº­n phÃ²ng</th>\r\n                        <th>Tráº£ phÃ²ng</th>\r\n                        <th>Tráº¡ng thÃ¡i</th>\r\n                        <th>HÃ nh Ä‘á»™ng</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {reservations.map(reservation => (\r\n                        <tr key={reservation.id}>\r\n                            <td>{reservation.id}</td>\r\n                            <td>{reservation.guest?.name}</td>\r\n                            <td>{reservation.room.map(r => r.nameRoom).join(', ')}</td>\r\n                            <td>{reservation.bookDate}</td>\r\n                            <td>{reservation.checkin}</td>\r\n                            <td>{reservation.checkout}</td>\r\n                            <td>{reservation.statusCheckin ? 'ÄÃ£ Ä‘áº·t' : 'ChÆ°a Ä‘áº·t'}</td>\r\n                            <td>\r\n                                <Button variant=\"primary\" onClick={() => handleShow(reservation)}>Sá»­a</Button>\r\n                                {/* <Button variant=\"danger\" onClick={() => handleDelete(reservation)}>XÃ³a</Button> */}\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n            <ReservationDetailsModal\r\n                showModal={showModal}\r\n                handleClose={handleClose}\r\n                selectedReservation={selectedReservation}\r\n                setSelectedReservation={setSelectedReservation}\r\n                handleUpdate={handleUpdate}\r\n                handleDelete={handleDelete}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nconst styles = css`\r\n    padding-top: 120px;\r\n    background-color: #f4f4f4;\r\n    min-height: 100vh;\r\n\r\n    h1 {\r\n        color: #0000CD;\r\n        text-align: center;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    p {\r\n        font-size: 16px;\r\n        text-align: center;\r\n    }\r\n`;\r\n\r\nconst tableStyles = css`\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-top: 20px;\r\n\r\n    th, td {\r\n        border: 1px solid #ddd;\r\n        padding: 8px;\r\n        text-align: left;\r\n    }\r\n\r\n    th {\r\n        background-color: #0000CD;\r\n        color: white;\r\n    }\r\n\r\n    tr:nth-of-type(even) {\r\n        background-color: #f2f2f2;\r\n    }\r\n\r\n    tr:hover {\r\n        background-color: #ddd;\r\n    }\r\n\r\n    td {\r\n        max-width: 150px;\r\n        white-space: nowrap;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n    }\r\n`;\r\n\r\nexport default ManageBookings;\r\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAASA,GAAG,EAAEC,GAAG,QAAQ,gBAAgB;AACzC,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,OAAO,EAAEC,SAAS,QAAQ,oBAAoB;AACvD,SAASC,KAAK,EAAEC,MAAM,EAAEC,IAAI,QAAQ,iBAAiB;AACrD,OAAO,sCAAsC;AAE7C,MAAMC,uBAAuB,GAAGA,CAAC;EAAEC,SAAS;EAAEC,WAAW;EAAEC,mBAAmB;EAAEC,sBAAsB;EAAEC,YAAY;EAAEC;AAAa,CAAC,KAAK;EAAA,IAAAC,qBAAA;EACrI,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAExDD,SAAS,CAAC,MAAM;IACZ,MAAMiB,UAAU,GAAG,MAAAA,CAAA,KAAY;MAC3B,IAAI;QACA,MAAMC,QAAQ,GAAG,MAAMhB,OAAO,CAAC,CAAC,CAACiB,GAAG,CAAC,kCAAkC,CAAC;QACxEH,iBAAiB,CAACE,QAAQ,CAACE,IAAI,CAAC;MACpC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,wCAAwC,EAAEA,KAAK,CAAC;MAClE;IACJ,CAAC;IAEDJ,UAAU,CAAC,CAAC;EAChB,CAAC,EAAE,EAAE,CAAC;EAEN,OACIlB,GAAA,CAACK,KAAK;IAACmB,IAAI,EAAEf,SAAU;IAACgB,MAAM,EAAEf,WAAY;IAAAgB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACxC/B,GAAA,CAACK,KAAK,CAAC2B,MAAM;IAACC,WAAW;IAAAP,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACrB/B,GAAA,CAACK,KAAK,CAAC6B,KAAK;IAAAR,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,wDAAqC,CACxC,CAAC,EACf/B,GAAA,CAACK,KAAK,CAAC8B,IAAI;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACNpB,mBAAmB,IAChBX,GAAA,CAACO,IAAI;IAAAmB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACD/B,GAAA,CAACO,IAAI,CAAC6B,KAAK;IAACC,SAAS,EAAC,mBAAmB;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACrC/B,GAAA,CAACO,IAAI,CAAC+B,KAAK;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,IAAc,CAAC,EAC3B/B,GAAA,CAACO,IAAI,CAACgC,OAAO;IACTC,IAAI,EAAC,MAAM;IACXC,KAAK,EAAE9B,mBAAmB,CAAC+B,EAAG;IAC9BC,QAAQ;IAAAjB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACX,CACO,CAAC,EACb/B,GAAA,CAACO,IAAI,CAAC6B,KAAK;IAACC,SAAS,EAAC,WAAW;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC7B/B,GAAA,CAACO,IAAI,CAAC+B,KAAK;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,cAAkB,CAAC,EAC/B/B,GAAA,CAACO,IAAI,CAACgC,OAAO;IACTC,IAAI,EAAC,MAAM;IACXC,KAAK,EAAE9B,mBAAmB,CAACiC,KAAM;IACjCD,QAAQ;IAAAjB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACX,CACO,CAAC,EACb/B,GAAA,CAACO,IAAI,CAAC6B,KAAK;IAACC,SAAS,EAAC,UAAU;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC5B/B,GAAA,CAACO,IAAI,CAAC+B,KAAK;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,cAAkB,CAAC,EAC/B/B,GAAA,CAACO,IAAI,CAACsC,MAAM;IACRJ,KAAK,EAAE,EAAA1B,qBAAA,GAAAJ,mBAAmB,CAACmC,IAAI,CAAC,CAAC,CAAC,cAAA/B,qBAAA,uBAA3BA,qBAAA,CAA6BgC,QAAQ,KAAI,EAAG;IACnDC,QAAQ,EAAGC,CAAC,IAAKrC,sBAAsB,CAACsC,IAAI,KAAK;MAC7C,GAAGA,IAAI;MACPJ,IAAI,EAAE9B,cAAc,CAACmC,MAAM,CAACL,IAAI,IAAIA,IAAI,CAACC,QAAQ,KAAKE,CAAC,CAACG,MAAM,CAACX,KAAK;IACxE,CAAC,CAAC,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAEJ/B,GAAA;IAAQyC,KAAK,EAAC,EAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,8BAAqB,CAAC,EACtCf,cAAc,CAACqC,GAAG,CAACP,IAAI,IACpB9C,GAAA;IAAQsD,GAAG,EAAER,IAAI,CAACJ,EAAG;IAACD,KAAK,EAAEK,IAAI,CAACC,QAAS;IAAArB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACtCe,IAAI,CAACC,QACF,CACX,CACQ,CACL,CAAC,EACb/C,GAAA,CAACO,IAAI,CAAC6B,KAAK;IAACC,SAAS,EAAC,cAAc;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAChC/B,GAAA,CAACO,IAAI,CAAC+B,KAAK;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,qCAAwB,CAAC,EACrC/B,GAAA,CAACO,IAAI,CAACgC,OAAO;IACTC,IAAI,EAAC,MAAM;IACXC,KAAK,EAAE9B,mBAAmB,CAAC4C,QAAS;IACpCP,QAAQ,EAAGC,CAAC,IAAKrC,sBAAsB,CAACsC,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAEK,QAAQ,EAAEN,CAAC,CAACG,MAAM,CAACX;IAAM,CAAC,CAAC,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC5F,CACO,CAAC,EACb/B,GAAA,CAACO,IAAI,CAAC6B,KAAK;IAACC,SAAS,EAAC,aAAa;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC/B/B,GAAA,CAACO,IAAI,CAAC+B,KAAK;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,8BAAyB,CAAC,EACtC/B,GAAA,CAACO,IAAI,CAACgC,OAAO;IACTC,IAAI,EAAC,MAAM;IACXC,KAAK,EAAE9B,mBAAmB,CAAC6C,OAAQ;IACnCR,QAAQ,EAAGC,CAAC,IAAKrC,sBAAsB,CAACsC,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAEM,OAAO,EAAEP,CAAC,CAACG,MAAM,CAACX;IAAM,CAAC,CAAC,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC3F,CACO,CAAC,EACb/B,GAAA,CAACO,IAAI,CAAC6B,KAAK;IAACC,SAAS,EAAC,cAAc;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAChC/B,GAAA,CAACO,IAAI,CAAC+B,KAAK;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,6BAAwB,CAAC,EACrC/B,GAAA,CAACO,IAAI,CAACgC,OAAO;IACTC,IAAI,EAAC,MAAM;IACXC,KAAK,EAAE9B,mBAAmB,CAAC8C,QAAS;IACpCT,QAAQ,EAAGC,CAAC,IAAKrC,sBAAsB,CAACsC,IAAI,KAAK;MAAE,GAAGA,IAAI;MAAEO,QAAQ,EAAER,CAAC,CAACG,MAAM,CAACX;IAAM,CAAC,CAAC,CAAE;IAAAf,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC5F,CACO,CAAC,EACb/B,GAAA,CAACO,IAAI,CAAC6B,KAAK;IAACC,SAAS,EAAC,YAAY;IAAAX,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC9B/B,GAAA,CAACO,IAAI,CAAC+B,KAAK;IAAAZ,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,sDAAgC,CAAC,EAC7C/B,GAAA,CAACO,IAAI,CAACmD,KAAK;IACPlB,IAAI,EAAC,UAAU;IACfmB,OAAO,EAAEhD,mBAAmB,CAACiD,aAAc;IAC3CZ,QAAQ,EAAGC,CAAC,IAAKrC,sBAAsB,CAACsC,IAAI,KAAK;MAC7C,GAAGA,IAAI;MACPU,aAAa,EAAEX,CAAC,CAACG,MAAM,CAACO;IAC5B,CAAC,CAAC,CAAE;IAAAjC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CACP,CAEO,CACV,CAEF,CAAC,EACb/B,GAAA,CAACK,KAAK,CAACwD,MAAM;IAAAnC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACT/B,GAAA,CAACM,MAAM;IAACwD,OAAO,EAAC,WAAW;IAACC,OAAO,EAAErD,WAAY;IAAAgB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,oBAE1C,CAAC,EACT/B,GAAA,CAACM,MAAM;IAACwD,OAAO,EAAC,QAAQ;IAACC,OAAO,EAAEjD,YAAa;IAAAY,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,YAExC,CAAC,EACT/B,GAAA,CAACM,MAAM;IAACwD,OAAO,EAAC,SAAS;IAACC,OAAO,EAAElD,YAAa;IAAAa,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,gBAEzC,CACE,CACX,CAAC;AAEhB,CAAC;AAED,MAAMiC,cAAc,GAAGA,CAAA,KAAM;EACzB,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGhE,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACiE,OAAO,EAAEC,UAAU,CAAC,GAAGlE,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,KAAK,EAAE+C,QAAQ,CAAC,GAAGnE,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACO,SAAS,EAAE6D,YAAY,CAAC,GAAGpE,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACS,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAEpE,MAAMqE,UAAU,GAAIC,WAAW,IAAK;IAChC5D,sBAAsB,CAAC4D,WAAW,CAAC;IACnCF,YAAY,CAAC,IAAI,CAAC;EACtB,CAAC;EAED,MAAM5D,WAAW,GAAGA,CAAA,KAAM4D,YAAY,CAAC,KAAK,CAAC;EAE7C,MAAMzD,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACF,mBAAmB,EAAE;;IAE1B;IACA,MAAM8D,kBAAkB,GAAG;MAAE,GAAG9D;IAAoB,CAAC;IACrDY,OAAO,CAACmD,GAAG,CAAC,2BAA2B,EAAED,kBAAkB,CAAC;IAE5D,IAAI;MACA;MACA,MAAMtE,OAAO,CAAC,CAAC,CAACwE,KAAK,CAACvE,SAAS,CAAC,oBAAoB,CAAC,CAACqE,kBAAkB,CAAC/B,EAAE,CAAC,EAAE+B,kBAAkB,CAAC;;MAEjG;MACA,MAAMtD,QAAQ,GAAG,MAAMhB,OAAO,CAAC,CAAC,CAACiB,GAAG,CAAChB,SAAS,CAAC,mBAAmB,CAAC,CAAC;MAEpEmB,OAAO,CAACmD,GAAG,CAAC,0BAA0B,EAAEvD,QAAQ,CAACE,IAAI,CAAC;MACtD6C,eAAe,CAAC/C,QAAQ,CAACE,IAAI,CAAC;IAClC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZ+C,QAAQ,CAAC,8BAA8B,CAAC;IAC5C,CAAC,SAAS;MACN3D,WAAW,CAAC,CAAC;IACjB;EACJ,CAAC;EAGD,MAAMI,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACH,mBAAmB,EAAE;;IAE1B;IACA,MAAMiE,SAAS,GAAGC,MAAM,CAACC,OAAO,CAAC,iEAAiE,CAAC;IAEnG,IAAIF,SAAS,EAAE;MACX,IAAI;QACA;QACA,MAAMzE,OAAO,CAAC,CAAC,CAACwE,KAAK,CAACvE,SAAS,CAAC,wBAAwB,CAAC,CAACO,mBAAmB,CAAC+B,EAAE,CAAC,CAAC;;QAElF;QACA,MAAMvB,QAAQ,GAAG,MAAMhB,OAAO,CAAC,CAAC,CAACiB,GAAG,CAAChB,SAAS,CAAC,mBAAmB,CAAC,CAAC;QACpE8D,eAAe,CAAC/C,QAAQ,CAACE,IAAI,CAAC;MAClC,CAAC,CAAC,OAAOC,KAAK,EAAE;QACZ+C,QAAQ,CAAC,kCAAkC,CAAC;MAChD,CAAC,SAAS;QACN3D,WAAW,CAAC,CAAC;MACjB;IACJ;EACJ,CAAC;EAIDT,SAAS,CAAC,MAAM;IACZ,MAAM8E,iBAAiB,GAAG,MAAAA,CAAA,KAAY;MAClC,IAAI;QACA,MAAM5D,QAAQ,GAAG,MAAMhB,OAAO,CAAC,CAAC,CAACiB,GAAG,CAAChB,SAAS,CAAC,mBAAmB,CAAC,CAAC;QACpE8D,eAAe,CAAC/C,QAAQ,CAACE,IAAI,CAAC;MAClC,CAAC,CAAC,OAAO2D,GAAG,EAAE;QACVX,QAAQ,CAAC,8BAA8B,CAAC;MAC5C,CAAC,SAAS;QACND,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDW,iBAAiB,CAAC,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIZ,OAAO,EAAE,OAAOnE,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,YAAa,CAAC;EACrC,IAAIT,KAAK,EAAE,OAAOtB,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAIT,KAAS,CAAC;EAEhC,OACItB,GAAA;IAAKD,GAAG,EAAEkF,MAAO;IAAAvD,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACb/B,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,8DAA4B,CAAC,EACjC/B,GAAA;IAAOD,GAAG,EAAEmF,WAAY;IAAAxD,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACpB/B,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACI/B,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACI/B,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,IAAM,CAAC,EACX/B,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,cAAU,CAAC,EACf/B,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,cAAU,CAAC,EACf/B,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,qCAAgB,CAAC,EACrB/B,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,8BAAiB,CAAC,EACtB/B,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,6BAAgB,CAAC,EACrB/B,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,8BAAiB,CAAC,EACtB/B,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,wCAAiB,CACrB,CACD,CAAC,EACR/B,GAAA;IAAA0B,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACKkC,YAAY,CAACZ,GAAG,CAACmB,WAAW;IAAA,IAAAW,kBAAA;IAAA,OACzBnF,GAAA;MAAIsD,GAAG,EAAEkB,WAAW,CAAC9B,EAAG;MAAAhB,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACpB/B,GAAA;MAAA0B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAKyC,WAAW,CAAC9B,EAAO,CAAC,EACzB1C,GAAA;MAAA0B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,IAAAoD,kBAAA,GAAKX,WAAW,CAAC5B,KAAK,cAAAuC,kBAAA,uBAAjBA,kBAAA,CAAmBC,IAAS,CAAC,EAClCpF,GAAA;MAAA0B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAKyC,WAAW,CAAC1B,IAAI,CAACO,GAAG,CAACgC,CAAC,IAAIA,CAAC,CAACtC,QAAQ,CAAC,CAACuC,IAAI,CAAC,IAAI,CAAM,CAAC,EAC3DtF,GAAA;MAAA0B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAKyC,WAAW,CAACjB,QAAa,CAAC,EAC/BvD,GAAA;MAAA0B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAKyC,WAAW,CAAChB,OAAY,CAAC,EAC9BxD,GAAA;MAAA0B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAKyC,WAAW,CAACf,QAAa,CAAC,EAC/BzD,GAAA;MAAA0B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAKyC,WAAW,CAACZ,aAAa,GAAG,aAAa,GAAG,cAAmB,CAAC,EACrE5D,GAAA;MAAA0B,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GACI/B,GAAA,CAACM,MAAM;MAACwD,OAAO,EAAC,SAAS;MAACC,OAAO,EAAEA,CAAA,KAAMQ,UAAU,CAACC,WAAW,CAAE;MAAA9C,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,gBAAa,CAE/E,CACJ,CAAC;EAAA,CACR,CACE,CACJ,CAAC,EACR/B,GAAA,CAACQ,uBAAuB;IACpBC,SAAS,EAAEA,SAAU;IACrBC,WAAW,EAAEA,WAAY;IACzBC,mBAAmB,EAAEA,mBAAoB;IACzCC,sBAAsB,EAAEA,sBAAuB;IAC/CC,YAAY,EAAEA,YAAa;IAC3BC,YAAY,EAAEA,YAAa;IAAAY,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC9B,CACA,CAAC;AAEd,CAAC;AAED,MAAMkD,MAAM,GAAGlF,GAAG;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,MAAMmF,WAAW,GAAGnF,GAAG;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAED,eAAeiE,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module"}