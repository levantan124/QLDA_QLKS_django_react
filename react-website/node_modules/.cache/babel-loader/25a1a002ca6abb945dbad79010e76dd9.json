{"ast":null,"code":"var _jsxFileName = \"/Users/ttc/Desktop/QLDA_QLKS_django_react/react-website/src/components/booking/PaymentResult.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { api } from '../utils/ApiFunctions';\nimport Cookies from 'react-cookies';\nconst PaymentResult = () => {\n  const location = useLocation();\n  const [paymentResult, setPaymentResult] = useState(null);\n  const csrftoken = Cookies.load('csrftoken');\n  useEffect(() => {\n    const queryParams = new URLSearchParams(location.search);\n    const result = queryParams.get('vnp_TransactionStatus');\n    if (result) {\n      const isSuccess = result === '00';\n      setPaymentResult({\n        title: result === '00' ? \"Payment Success\" : \"Payment Failure\",\n        result: result === '00' ? \"Success\" : \"Failed\",\n        orderId: queryParams.get('vnp_TxnRef'),\n        amount: queryParams.get('vnp_Amount'),\n        orderDesc: queryParams.get('vnp_OrderInfo'),\n        vnpTransactionNo: queryParams.get('vnp_TransactionNo'),\n        vnpResponseCode: queryParams.get('vnp_ResponseCode'),\n        msg: queryParams.get('vnp_Message') || \"No message provided\"\n      });\n    }\n  }, [location.search]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-result-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, paymentResult ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  }, paymentResult.title), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"payment-result-details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 28\n    }\n  }, \"Transaction Result:\"), \" \", paymentResult.result), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 28\n    }\n  }, \"Order ID:\"), \" \", paymentResult.orderId), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 28\n    }\n  }, \"Amount:\"), \" \", paymentResult.amount, \" VND\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 28\n    }\n  }, \"Order Description:\"), \" \", paymentResult.orderDesc), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 28\n    }\n  }, \"VNPay Transaction No:\"), \" \", paymentResult.vnpTransactionNo), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 28\n    }\n  }, \"VNPay Response Code:\"), \" \", paymentResult.vnpResponseCode), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 28\n    }\n  }, \"Message:\"), \" \", paymentResult.msg))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"Loading payment result...\"));\n};\nexport default PaymentResult;","map":{"version":3,"names":["React","useEffect","useState","useLocation","api","Cookies","PaymentResult","location","paymentResult","setPaymentResult","csrftoken","load","queryParams","URLSearchParams","search","result","get","isSuccess","title","orderId","amount","orderDesc","vnpTransactionNo","vnpResponseCode","msg","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/ttc/Desktop/QLDA_QLKS_django_react/react-website/src/components/booking/PaymentResult.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { api } from '../utils/ApiFunctions'; \nimport Cookies from 'react-cookies';\n\nconst PaymentResult = () => {\n    const location = useLocation();\n\n    const [paymentResult, setPaymentResult] = useState(null);\n    const csrftoken = Cookies.load('csrftoken');\n\n\n   \n\n    \n\n    useEffect(() => {\n        const queryParams = new URLSearchParams(location.search);\n        \n        const result = queryParams.get('vnp_TransactionStatus');\n\n        if (result) {\n            const isSuccess = result === '00';\n            setPaymentResult({\n                title: result === '00' ? \"Payment Success\" : \"Payment Failure\",\n                result: result === '00' ? \"Success\" : \"Failed\",\n                orderId: queryParams.get('vnp_TxnRef'),\n                amount: queryParams.get('vnp_Amount'),\n                orderDesc: queryParams.get('vnp_OrderInfo'),\n                vnpTransactionNo: queryParams.get('vnp_TransactionNo'),\n                vnpResponseCode: queryParams.get('vnp_ResponseCode'),\n                msg: queryParams.get('vnp_Message') || \"No message provided\"\n            });\n\n            \n        }\n    }, [location.search]);\n\n    return (\n        <div className=\"payment-result-container\">\n            {paymentResult ? (\n                <div>\n                    <h3>{paymentResult.title}</h3>\n                    <div className=\"payment-result-details\">\n                        <p><strong>Transaction Result:</strong> {paymentResult.result}</p>\n                        <p><strong>Order ID:</strong> {paymentResult.orderId}</p>\n                        <p><strong>Amount:</strong> {paymentResult.amount} VND</p>\n                        <p><strong>Order Description:</strong> {paymentResult.orderDesc}</p>\n                        <p><strong>VNPay Transaction No:</strong> {paymentResult.vnpTransactionNo}</p>\n                        <p><strong>VNPay Response Code:</strong> {paymentResult.vnpResponseCode}</p>\n                        <p><strong>Message:</strong> {paymentResult.msg}</p>\n                    </div>\n                </div>\n            ) : (\n                <p>Loading payment result...</p>\n            )}\n        </div>\n    );\n};\n\nexport default PaymentResult;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}